<h1>Github User Landing Page</h1>
<%= current_user.name %>
<br>
<%= image_tag current_user.image %>

<h2>Starred Repositories</h2>
  <% @starred_repos.each do |repo| %>
    <p>
      <%= link_to repo[:name], "https://github.com/#{repo[:owner][:login]}/#{repo[:name]}"%>
      <br>
      Created By: <%= repo[:owner][:login] %>
    </p>
  <% end %>

<h2>Followers:</h2>
<p>
  Total Followers: <%= @followers.count %>
</p>
<% @followers.each do |follower| %>
  <p><%= link_to follower[:login], "https://github.com/#{follower[:login]}" %></p>
<% end %>

<h2>Following:</h2>
<p>
  Total Users: <%= @users.count %>
</p>
<% @users.each do |user| %>
  <p><%= link_to user[:login], "https://github.com/#{user[:login]}" %></p>
<% end %>

<%= render partial: 'shared/contributions' %>

<h2>Commit Summary</h2>
<% @commits.each do |commit| %>
  <p><%= commit %></p>
<% end %>

<h2>Open Pull Requests</h2>
<% if @pulls.count == 0 %>
  <p>There are no open pull requests.</p>
<% else %>
  <% @pulls.each do |pull| %>
    <ul>
      <li><%= link_to pull, pull%></li>
    </ul>
  <% end %>
<% end %>

<h2>Longest Streak</h2>
<p>
  <%= @yearly_streak[1] %>
</p>
<p>
  <%= @yearly_streak[0] %>
</p>

<h2>Current Streak</h2>
<p>
  <%= @current_streak[1] %>
</p>
<p>
  <%= @current_streak[0] %>
</p>

<h2>My Organizations</h2>
<% if @orgs.count == 0 %>
  <p>You do not belong to any organizations.</p>
<% else %>
  <% @orgs.each do |org| %>
      <p><%= org[:login] %></p>
  <% end %>
<% end %>

<h2>Users I'm Following Events</h2>
<% @following_users.each do |user|%>
  <p><%= link_to user[:nickname], "https://github.com/#{user[:nickname]}" %></p>
  Commits:
  <% user[:commits].each do |commit| %>
    <p><%= commit %></p>
  <% end %>
<% end %>
